<!-- Auto-generated guidance for AI coding agents working on this repository. -->
# Copilot instructions (project-specific)

This file contains concise, actionable guidance for AI coding agents to be productive in this Vaadin + Spring Boot repository.

- **Big picture**: This is a Spring Boot backend (Vaadin Flow) application with a client-side React/Vite frontend compiled and wired by the Vaadin build tooling.
  - Server: Java Spring Boot under `src/main/java` (server-side views, routing, services).
  - Frontend: sources and generated entry points are under `frontend/` (see `frontend/generated/` for auto-generated code).
  - Build: Maven drives the full build. The Vaadin Maven plugin prepares and builds frontend assets.

- **Key files to inspect (examples)**:
  - `pom.xml` — Maven build, Vaadin plugin, and profiles (`production`, `it`).
  - `package.json` — frontend dependencies (Vite, React, Vaadin bundles).
  - `frontend/generated/index.tsx` — generated React entry; create `frontend/index.tsx` to override.
  - `frontend/generated/flow/Flow.tsx` — Flow container that bridges server-side Vaadin routes and client-side React Router.
  - `frontend/jar-resources/` — client-side connectors and web-component scripts bundled from server-side JARs.
  - `frontend/themes/` — theme files (CSS, favicon).

- **Non-editable vs editable**:
  - Files under `frontend/generated/` are auto-generated by Vaadin; do not edit them directly. Instead, place custom client entry points or components under `frontend/` (e.g. add `frontend/index.tsx`) and restart the dev server.

- **Common developer workflows / commands**
  - Run application (dev):
    - Windows PowerShell: `.\\mvnw.cmd spring-boot:run`
    - macOS / Linux: `./mvnw spring-boot:run`
  - Production build (includes frontend build):
    - Windows PowerShell: `.\mvnw.cmd clean package -Pproduction`
    - macOS / Linux: `./mvnw clean package -Pproduction`
  - Run built JAR: `java -jar target/site-1.0-SNAPSHOT.jar`
  - Integration tests: activate the `it` profile (configured in `pom.xml`) — e.g. `./mvnw -Pit verify`.

- **Frontend notes**
  - The project uses Vaadin's Vite-based tooling. Frontend hot-reload is provided by the Vaadin dev server when running the app via Maven.
  - If you need a custom client entry point, add `frontend/index.tsx` (see `frontend/generated/index.tsx` for the generated example) and restart the dev server.
  - WebComponents / connectors are located under `frontend/jar-resources/`. These are loaded dynamically by generated code like `Flow.tsx`.

- **Routing and data flow**
  - Server routes are implemented with Vaadin Flow (Java). The generated `Flow` container (`frontend/generated/flow/Flow.tsx`) calls back to server-side actions to obtain server-rendered containers.
  - Client-side navigation uses React Router (see `frontend/generated/routes.js` referenced by `generated/index.tsx`). The Flow container coordinates server → client transitions.

- **Project-specific conventions**
  - Avoid editing files under `frontend/generated/` or other generated folders — prefer adding custom files under `frontend/` or changing Java server-side view classes in `src/main/java`.
  - Java version: `pom.xml` sets `<java.version>` to 20 (some `it` profile entries reference JDK 21 paths). Ensure matching JDK when building or running integration tests.
  - Use the Maven profile `production` to trigger `vaadin-maven-plugin:build-frontend` for production-ready static assets.

- **Where to look when debugging build issues**
  - `pom.xml` (Vaadin plugin and profiles) and Maven output for `prepare-frontend` / `build-frontend` phases.
  - `package.json` and `node_modules` for frontend dependency mismatches.
  - Browser DevTools when diagnosing client-side hot-reload or Vite issues; generated files are a good starting point to trace runtime behavior (`frontend/generated/flow/Flow.tsx`).

- **Example quick tasks (how-to snippets)**
  - Add a custom React entry: create `frontend/index.tsx` (copy `frontend/generated/index.tsx`), then restart the dev server.
  - Build for production (Windows PowerShell): `.\mvnw.cmd clean package -Pproduction`.

If any of the above details are unclear or you'd like more granular instructions for tests, debugging, or contribution rules, tell me what to expand.
